(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{359:function(e,r,t){"use strict";t.r(r);t(32);var n=t(10),o={data:function(){return{user:{}}},mounted:function(){this.loadUser()},methods:{loadUser:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var t,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.$axios.get("user");case 3:t=r.sent,data=t.data,console.log(data),e.user=data.user,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),alert("read user failed"+r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},updateUserInfo:function(e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.prev=1,t.next=4,r.$axios.post("user/update",r.user);case 4:n=t.sent,n.data.ok||alert("更新失败"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),alert("error: "+t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()}}},l=t(48),component=Object(l.a)(o,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("h1",[e._v("我的信息")]),e._v(" "),t("b-form",{on:{submit:e.updateUserInfo}},[t("b-form-group",{attrs:{id:"ig-id",label:"ID","label-for":"i-id"}},[t("b-form-input",{attrs:{id:"i-id",type:"text",readonly:""},model:{value:e.user.id,callback:function(r){e.$set(e.user,"id",r)},expression:"user.id"}})],1),e._v(" "),t("b-form-group",{attrs:{id:"ig-email",label:"Email","label-for":"i-email",description:"(仅自己可见)"}},[t("b-form-input",{attrs:{id:"i-email",type:"text",readonly:""},model:{value:e.user.email,callback:function(r){e.$set(e.user,"email",r)},expression:"user.email"}})],1),e._v(" "),t("b-form-group",{attrs:{id:"ig-nickname",label:"昵称","label-for":"i-nickname",description:"(公开)"}},[t("b-form-input",{attrs:{id:"i-nickname",type:"text",required:""},model:{value:e.user.nickname,callback:function(r){e.$set(e.user,"nickname",r)},expression:"user.nickname"}})],1),e._v(" "),t("b-form-group",{attrs:{id:"ig-avatar_name",label:"人物名称","label-for":"i-avatar_name",description:"(可选，公开)"}},[t("b-form-input",{attrs:{id:"i-avatar_name",type:"text"},model:{value:e.user.avatar_name,callback:function(r){e.$set(e.user,"avatar_name",r)},expression:"user.avatar_name"}})],1),e._v(" "),t("b-form-group",{attrs:{id:"ig-island_name",label:"岛名称","label-for":"i-island_name",description:"(可选，公开)"}},[t("b-form-input",{attrs:{id:"i-island_name",type:"text"},model:{value:e.user.island_name,callback:function(r){e.$set(e.user,"island_name",r)},expression:"user.island_name"}})],1),e._v(" "),t("b-form-group",{attrs:{id:"ig-ns_id",label:"NS好友ID","label-for":"i-ns_id",description:"(可选，仅已关注用户可见)"}},[t("b-form-input",{attrs:{id:"i-ns_id",type:"text"},model:{value:e.user.ns_id,callback:function(r){e.$set(e.user,"ns_id",r)},expression:"user.ns_id"}})],1),e._v(" "),t("b-form-group",{attrs:{id:"ig-notification_price",label:"提醒推送价格","label-for":"i-notification_price",description:"当有价格高于这个值是发送推送，(开发中)"}},[t("b-form-input",{attrs:{id:"i-notification_price",type:"number",readonly:""},model:{value:e.user.notification_price,callback:function(r){e.$set(e.user,"notification_price",r)},expression:"user.notification_price"}})],1),e._v(" "),t("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("更新")])],1)],1)}),[],!1,null,null,null);r.default=component.exports}}]);